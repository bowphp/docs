---
title: "Cr√©er une application de To Do List avec BowPHP"
description: "Cr√©er une application de To Do List avec BowPHP"
slug: creer-une-application-de-to-do-list-avec-bowphp
authors: papac
tags: [bowphp, php, framework,]
image: https://avatars.githubusercontent.com/u/9353811?v=4
hide_table_of_contents: false
---

import SuggestionFeature from "@site/src/components/Partials/SuggestionFeature";

Cr√©er une application de To Do List avec BowPHP, un framework PHP l√©ger, est une excellente id√©e. Voici un plan d√©taill√© pour y parvenir :

<!--truncate-->

### **√âtape 1 : Installation de BowPHP**

1. **Installer BowPHP** :

Assurez-vous que Composer est install√© sur votre machine, puis utilisez la commande suivante pour installer BowPHP :

```bash
composer create-project bowphp/app todolist
```
Cela cr√©era une nouvelle application BowPHP nomm√©e `todolist`.

2. **Configurer votre application** :

- Modifiez le fichier `.env.json` pour configurer la connexion √† la base de donn√©es (par exemple MySQL).

```json title=".env.json"
{
  "DB_DEFAULT": "mysql",
  "DB_HOSTNAME": "127.0.0.1",
  "DB_USERNAME": "username",
  "DB_PASSWORD": "password",
  "DB_DBNAME": "todolist_db",
  "DB_PORT": 3306
}
```

### **√âtape 2 : Configurer la base de donn√©es**

1. **Cr√©er la base de donn√©es** :

Ex√©cutez cette commande MySQL pour cr√©er une base de donn√©es :

```sql
CREATE DATABASE todolist_db;
```

2. **Cr√©er une table pour les t√¢ches** :

Pour ajouter une nous table, vous pouvez le faire avec la commande suivante:

```bash
php bow add:migration create-tasks-table
```

Vous allez avoir un nouveau fichier dans le dossier `database/migrations`.

```php title="database/migrations/Version1000000000CreateTasksTable.php"

use Bow\Database\Migration\Migration;
use Bow\Database\Migration\SQLGenerator as Table;

class Version1000000000CreateTasksTable extends Migration
{
  /**
   * Run the migrations.
   *
   * @return void
  */
  public function up()
  {
    $this->create('tasks', function (Table $table) {
      $table->addPrimary('id');
      $table->addString('title');
      $table->addBoolean('completed', ['default' => false]);
      $table->addTimestamps();
    });
  }

  /**
   * Reverse the migrations.
   *
   * @return void
   */
  public function rollback()
  {
    $this->dropIfExists('tasks');
  }
}
```

Ensuite, ex√©cutez la migration :

```bash
php bow migrate
```

### **√âtape 3 : Cr√©er le mod√®le et le contr√¥leur**

1. **Cr√©er un mod√®le `Task`** :

Ajouter un mod√®le de base de donn√©e

```bash
php bow add:model Task
```

Vous verrez le fichier `app/Models/Task.php` dans votre projet.

```php title="app/Models/Task.php"
namespace App\Models;

use Bow\Database\Barry\Model;

class Task extends Model
{
  //
}
```

2. **Cr√©er un contr√¥leur `TaskController`** :

```php title="app/Controllers/TaskController.php"
namespace App\Controllers;

use App\Models\Task;
use Bow\Http\Request;

class TaskController
{
  public function index()
  {
    $tasks = Task::all();

    return view('tasks.index', compact('tasks'));
  }

  public function store(Request $request)
  {
    // Validation des donn√©es
    $request->validate([
      'title' => 'required|min:3|max:255'
    ]);

    Task::create([
      'title' => $request->get('title'),
      'completed' => false
    ]);

    return redirect('/')->withFlash('success', 'T√¢che ajout√©e avec succ√®s !');
  }

  public function update(int $id)
  {
    $task = Task::find($id);
    
    if (!$task) {
      return redirect('/')->withFlash('error', 'T√¢che introuvable.');
    }
    
    $task->update(['completed' => !$task->completed]);

    return redirect('/')->withFlash('success', 'T√¢che mise √† jour !');
  }

  public function destroy(Request $request, int $id)
  {
    $task = Task::find($id);
    
    if (!$task) {
      return redirect('/')->withFlash('error', 'T√¢che introuvable.');
    }
    
    $task->delete();

    return redirect('/')->withFlash('success', 'T√¢che supprim√©e !');
  }
}
```

### **√âtape 4 : Configurer les routes**

Dans le fichier `routes/app.php`, ajoutez les routes suivantes :

```php
use App\Controllers\TaskController;

$app->get('/', [TaskController::class, 'index']);
$app->post('/tasks', [TaskController::class, 'store']);
$app->put('/tasks/{id}', [TaskController::class, 'update']);
$app->delete('/tasks/{id}', [TaskController::class, 'destroy']);
```

:::info Note sur les m√©thodes HTTP
Bow Framework g√®re automatiquement la m√©thode spoofing via le champ `_method` dans les formulaires. 
Cela permet d'utiliser PUT et DELETE m√™me si HTML ne supporte nativement que GET et POST.
:::

### **√âtape 5 : Cr√©er les vues**

Cr√©er le fichier de template `templates/tasks.tintin.php` et ajoutez-y le contenu suivant.

```php title="templates/tasks.tintin.php"
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Todo List - BowPHP</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 2rem;
    }
    .container { 
      max-width: 600px; 
      margin: 0 auto; 
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 { 
      color: #333; 
      margin-bottom: 2rem;
      text-align: center;
    }
    .add-form { 
      display: flex; 
      gap: 0.5rem; 
      margin-bottom: 2rem;
    }
    input[type="text"] { 
      flex: 1; 
      padding: 0.75rem; 
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
    }
    input[type="text"]:focus { 
      outline: none; 
      border-color: #667eea;
    }
    button { 
      padding: 0.75rem 1.5rem; 
      background: #667eea;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }
    button:hover { background: #5568d3; }
    .task-list { list-style: none; }
    .task-item { 
      display: flex; 
      align-items: center; 
      padding: 1rem;
      margin-bottom: 0.5rem;
      background: #f8f9fa;
      border-radius: 8px;
      gap: 0.75rem;
    }
    .task-item.completed { 
      opacity: 0.6;
      text-decoration: line-through;
    }
    .task-title { flex: 1; }
    .btn-icon { 
      padding: 0.5rem; 
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 1.25rem;
    }
    .flash-message {
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      font-weight: 500;
    }
    .flash-success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .flash-error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìù Ma Todo List</h1>
    
    #if(flash()->has('success'))
      <div class="flash-message flash-success">
        {{ flash()->get('success') }}
      </div>
    #endif
    
    #if(flash()->has('error'))
      <div class="flash-message flash-error">
        {{ flash()->get('error') }}
      </div>
    #endif

    <form method="POST" action="/tasks" class="add-form">
      {{ csrf_field() }}
      <input type="text" name="title" placeholder="Ajouter une nouvelle t√¢che..." required>
      <button type="submit">Ajouter</button>
    </form>

    <ul class="task-list">
      #foreach ($tasks as $task)
        <li class="task-item {{ $task->completed ? 'completed' : '' }}">
          <form method="POST" action="/tasks/{{ $task->id }}" style="display: inline;">
            {{ csrf_field() }}
            <input type="hidden" name="_method" value="PUT">
            <button type="submit" class="btn-icon">
              {{ $task->completed ? '‚úÖ' : '‚¨ú' }}
            </button>
          </form>
          <span class="task-title">{{ $task->title }}</span>
          <form method="POST" action="/tasks/{{ $task->id }}" style="display: inline;">
            {{ csrf_field() }}
            <input type="hidden" name="_method" value="DELETE">
            <button type="submit" class="btn-icon" onclick="return confirm('Supprimer cette t√¢che ?')">‚ùå</button>
          </form>
        </li>
      #endforeach
    </ul>
    
    #if(count($tasks) === 0)
      <p style="text-align: center; color: #999; padding: 2rem;">Aucune t√¢che. Ajoutez-en une ci-dessus !</p>
    #endif
  </div>
</body>
</html>
```

:::tip S√©curit√© CSRF
Notez l'utilisation de `{{ csrf_field() }}` dans tous les formulaires. C'est une protection CSRF int√©gr√©e dans Bow Framework qui emp√™che les attaques de type Cross-Site Request Forgery.
:::

### **√âtape 6 : Lancer l'application**

D√©marrez le serveur BowPHP :

```bash
php bow run:server
```

Acc√©dez √† votre application sur `http://localhost:5000`.

### **√âtape 7 : Am√©liorations possibles**

Voici quelques id√©es pour am√©liorer votre application :

1. **Filtrage des t√¢ches** : Ajouter des filtres pour voir les t√¢ches compl√©t√©es/incompl√®tes
2. **Date d'√©ch√©ance** : Ajouter une colonne `due_date` pour g√©rer les dates limites
3. **Cat√©gories** : Cr√©er un syst√®me de cat√©gories ou tags pour organiser les t√¢ches
4. **Authentification** : Impl√©menter un syst√®me de connexion pour que chaque utilisateur ait ses propres t√¢ches
5. **API REST** : Transformer l'application en API pour une utilisation avec un frontend JavaScript (React, Vue.js)
6. **Recherche** : Ajouter une barre de recherche pour filtrer les t√¢ches
7. **Priorit√©s** : Ajouter des niveaux de priorit√© (haute, moyenne, basse)

### **D√©ploiement**

Pour d√©ployer votre application en production :

```bash
# 1. Optimiser l'autoloader
composer dump-autoload --optimize

# 2. Configurer l'environnement de production dans .env.json
{
    "APP_ENV": "production",
    "APP_DEBUG": false,
    // ... autres configs
}

# 3. Configurer votre serveur web (Apache/Nginx)
# Le point d'entr√©e doit pointer vers public/index.php
```

:::warning S√©curit√© en Production
- D√©sactivez le mode debug (`APP_DEBUG=false`)
- Utilisez des mots de passe forts pour la base de donn√©es
- Configurez HTTPS sur votre serveur
- Gardez Bow Framework et ses d√©pendances √† jour
- Validez toujours les entr√©es utilisateur
:::

### **Ressources utiles**

- [Documentation officielle de Bow Framework](https://bowphp.com/docs)
- [Guide de migration](https://bowphp.com/docs/migration)
- [Guide ORM Barry](https://bowphp.com/docs/orm)
- [Validation des donn√©es](https://bowphp.com/docs/validation)

<SuggestionFeature />
