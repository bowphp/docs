---
id: seeding
title: "üíâ Seeding"
---

import SuggestionFeature from "@site/src/components/Partials/SuggestionFeature";

## Introduction

Le seeding est un m√©canisme qui vous permettra d'hydrater votre base de donn√©e pour pouvoir l'utiliser dans votre d√©veloppement. Le seeding dans Bow est associ√© √† une table lors de la cr√©ation.

## Ajouter un seeder

Pour ajouter un seeder, on passe par `php bow` avec la commande `add:seeder` ensuite le nom de la table.

```bash
php bow add:seeder pets
```

Un fichier avec un timestamp sera cr√©√© dans le dossier `seeders` (par exemple `20251220174703-pets-seeder.php`). En voici le contenu :

```php
<?php

use App\Models\Pet;
use Faker\Factory as FakerFactory;

class PetsSeeder20251220174703
{
    public function run()
    {
        $faker = FakerFactory::create();

        foreach (range(1, 5) as $value) {
            $pet = [
                'name' => $faker->name,
                'created_at' => date('Y-m-d H:i:s'),
                'updated_at' => date('Y-m-d H:i:s'),
            ];

            Pet::create($pet);
        }
    }
}
```

:::note
Le seeder est maintenant une classe avec une m√©thode `run()`. Le nom de la classe inclut un timestamp pour √©viter les conflits. Vous pouvez utiliser le mod√®le correspondant (`Pet::create()`) pour ins√©rer les donn√©es.
Voir la [documentation](./orm) sur les mod√®les pour plus d'informations.
:::

## Lancer le seeding

Pour lancer le seeding, on utilise la commande `seed:file` suivie du nom de la classe du seeder.

```bash
php bow seed:file PetsSeeder20251220174703
```

Le seeder correspondant sera ex√©cut√© et les donn√©es seront ins√©r√©es dans la base de donn√©es via la m√©thode `create()` du mod√®le.

Vous avez la possibilit√© de lancer tous les seeding avec la commande `seed:all`. Cela ex√©cutera tous les seeders dans le dossier `seeders`.

```bash
php bow seed:all
```

## Personnalisation du seeder

Vous pouvez personnaliser le seeder selon vos besoins. Voici un exemple plus complet avec le mod√®le User :

```php
<?php

use App\Models\User;
use Faker\Factory as FakerFactory;

class UserSeeder20251220174703
{
    public function run()
    {
        $faker = FakerFactory::create();

        foreach (range(1, 10) as $value) {
            $user = [
                'name' => $faker->name,
                'description' => $faker->text(100),
                'email' => $faker->unique()->email,
                'password' => app_hash('password'),
                'created_at' => date('Y-m-d H:i:s'),
                'updated_at' => date('Y-m-d H:i:s'),
            ];

            User::create($user);
        }
    }
}
```

:::tip
Utilisez `$faker->unique()` pour garantir l'unicit√© des valeurs comme les emails. Consultez la [documentation Faker](https://github.com/fzaninotto/Faker) pour voir toutes les possibilit√©s de g√©n√©ration de donn√©es.
:::

<SuggestionFeature />
