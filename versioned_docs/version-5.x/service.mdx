---
id: service
title: "ðŸ¢ Approche Service"
---

import SuggestionFeature from "@site/src/components/Partials/SuggestionFeature";

## Introduction

:::info Ã€ propos des services
Les services sont des classes simples que vous pouvez injecter dans vos controllers, dans d'autres services, qui peuvent vous permettre de dÃ©coupler la logique et donc optimiser votre code source.
:::

Vous pouvez aussi injecter des modÃ¨les dans vos services.

## Utilisation

:::tip CrÃ©ation d'un service
Pour ajouter un service, rien de plus simple que d'utiliser la commande suivante :
:::

```bash
php bow add:service UserService
```

Un service `UserService` sera crÃ©Ã© par dÃ©faut dans le dossier `app/Services`. Nous allons ajouter la mÃ©thode suivante `fetchAllUsers` pour rÃ©cupÃ©rer tous les utilisateurs enregistrÃ©s dans la base de donnÃ©es.

```php title="app/Services/UserService"
namespace App\Services;

use App\Models\User;

class UserService
{
  public function fetchAllUsers()
  {
    return User::all();
  }
}
```

## Utilisation du service

Pour utiliser le service, nous allons l'injecter lÃ  oÃ¹ nous voulons l'utiliser, dans notre cas dans un controller.

Lancez la commande suivante pour crÃ©er un nouveau controller :

```bash
php bow add:controller UserController
```

Dans le controller, nous allons maintenant injecter le service :

```php
class UserController extends Controller
{
  public function __construct(
    private UserService $userService 
  ) {}

  public function showIndex()
  {
    $users = $this->userService->fetchAllUsers();

    // do something
  }
}
```

<SuggestionFeature />
