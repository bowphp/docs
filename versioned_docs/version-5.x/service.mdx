---
id: service
title: "Services dans Bow Framework"
---

import SuggestionFeature from "@site/src/components/Partials/SuggestionFeature";

## Introduction

:::info À propos des services
Les services sont des classes simples que vous pouvez injecter dans vos controllers, dans d'autres services, qui peuvent vous permettre de découpler la logique et donc optimiser votre code source.
:::

Vous pouvez aussi injecter des modèles dans vos services.

## Utilisation

:::tip Création d'un service
Pour ajouter un service, rien de plus simple que d'utiliser la commande suivante :
:::

```bash
php bow add:service UserService
```

Un service `UserService` sera créé par défaut dans le dossier `app/Services`. Nous allons ajouter la méthode suivante `fetchAllUsers` pour récupérer tous les utilisateurs enregistrés dans la base de données.

```php title="app/Services/UserService"
namespace App\Services;

use App\Models\User;

class UserService
{
  public function fetchAllUsers()
  {
    return User::all();
  }
}
```

## Utilisation du service

Pour utiliser le service, nous allons l'injecter là où nous voulons l'utiliser, dans notre cas dans un controller.

Lancez la commande suivante pour créer un nouveau controller :

```bash
php bow add:controller UserController
```

Dans le controller, nous allons maintenant injecter le service :

```php
class UserController extends Controller
{
  public function __construct(
    private UserService $userService 
  ) {}

  public function showIndex()
  {
    $users = $this->userService->fetchAllUsers();

    // do something
  }
}
```

<SuggestionFeature />
