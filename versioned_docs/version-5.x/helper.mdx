---
id: helpers
title: "Helpers PHP globaux"
---

import SuggestionFeature from "@site/src/components/Partials/SuggestionFeature";

## Introduction

Les helpers sont des fonctions raccourcies chargées dans l'application qui permet de faire rapidement certaine action. Voici la liste des helpers qui existe dans l'application Bow Framework. Voici les helpers dispnoble dans l'application.

## Table des matières

- [Introduction](#introduction)
- [Helper de gestion HTTP](#helper-de-gestion-http)
- [Base de donnée](#base-de-donnée)
- [Sécurité](#sécurité)
- [Gestion d'évènement](#gestion-dévènement)
- [Système de storage](#système-de-storage)
- [Helper Application](#helper-application)
- [Chaine de caractère](#chaine-de-caractère)
- [Email](#email)
- [Session et Cookie](#session-et-cookie)
- [Validation](#validation)
- [Autre](#autre)
- [Utilisation](#utilisation)

## Helper de gestion HTTP

- [app](#app)
- [config](#config)
- [response](#response)
- [response_json](#response_json)
- [response_download](#response_download)
- [set_response_status_code](#set_response_status_code)
- [set_response_header](#set_response_header)
- [get_response_header](#get_response_header)
- [request](#request)
- [redirect](#redirect)
- [redirect_back](#redirect_back)
- [url](#url)
- [route](#route)
- [old](#old)
- [view](#view)

## Base de donnée

- [db](#db)
- [table](#table)
- [app_db_table](#app_db_table)
- [get_last_insert_id](#get_last_insert_id)
- [app_db_select](#app_db_select)
- [app_db_select_one](#app_db_select_one)
- [app_db_insert](#app_db_insert)
- [app_db_delete](#app_db_delete)
- [app_db_update](#app_db_update)
- [app_db_statement](#app_db_statement)
- [app_db_transaction](#app_db_transaction)
- [app_db_transaction_started](#app_db_transaction_started)
- [app_db_rollback](#app_db_rollback)
- [app_db_commit](#app_db_commit)
- [pdo](#pdo)
- [set_pdo](#set_pdo)
- [app_db_seed](#app_db_seed)

## Sécurité

- [encrypt](#encrypt)
- [decrypt](#decrypt)
- [app_hash](#app_hash)
- [bow_hash](#bow_hash)
- [sanitize](#sanitize)
- [secure](#secure)
- [csrf_token](#csrf_token)
- [csrf_field](#csrf_field)
- [method_field](#method_field)
- [create_csrf_token](#create_csrf_token)
- [gen_csrf_token](#gen_csrf_token)
- [verify_csrf](#verify_csrf)
- [csrf_time_is_expired](#csrf_time_is_expired)

## Gestion d'évènement

- [event](#event)
- [queue](#queue)

## Système de storage

- [config](#config)
- [app_storage](#app_storage)
- [storage_service](#storage_service)
- [cache](#cache)

## Helper Application

- [app_env](#app_env)
- [app_assets](#app_assets)
- [app_abort](#app_abort)
- [app_abort_if](#app_abort_if)
- [app_mode](#app_mode)
- [app_in_debug](#app_in_debug)
- [auth](#auth)
- [app_auth](#app_auth)
- [logger](#logger)
- [app_logger](#app_logger)
- [app_now](#app_now)
- [client_locale](#client_locale)
- [view](#view)

## Chaine de caractère

- [str_uuid](#str_uuid)
- [str_slug](#str_slug)
- [str_is_mail](#str_is_mail)
- [str_is_domain](#str_is_domain)
- [str_is_slug](#str_is_slug)
- [str_is_alpha](#str_is_alpha)
- [str_is_lower](#str_is_lower)
- [str_is_upper](#str_is_upper)
- [str_is_alpha_num](#str_is_alpha_num)
- [str_shuffle_words](#str_shuffle_words)
- [str_wordily](#str_wordily)
- [str_plural](#str_plural)
- [str_camel](#str_camel)
- [str_snake](#str_snake)
- [str_contains](#str_contains)
- [str_capitalize](#str_capitalize)
- [str_random](#str_random)
- [str_force_in_utf8](#str_force_in_utf8)
- [e](#e)
- [str_fix_utf8](#str_fix_utf8)

## Session et Cookie

- [session](#session)
- [cookie](#cookie)
- [flash](#flash)

## Email

- [email](#email)
- [raw_email](#raw_email)

## Validation

- [validator](#validator)

## Autre

- [debug](#debug)
- [sep](#sep)
- [collect](#collect)
- [app_trans](#app_trans)
- [t](#t)
- [__](#__)
- [is_blank](#is_blank)

## Utilisation

### app

Ce helper permet d'avoir accès au container de Bow Framework.

```php
app("mail");
```

### config

Permet d'avoir accès à la configuration de Bow Framework.

```php
config("mail")
```

### response

Permet d'avoir accès à une instance de `\Bow\Http\Response::class`.Elle doit être utilisée impérativement dans un controlleur. Avoir plus d'information sur les méthodes possible [ici](./responses)

```php
return response($content = "hello papac", $code = 200);
```

### request

Permet d'avoir accès à une instance de `\Bow\Http\Request::class`. Elle doit être utilisée impérativement dans un contrôleur. Avoir plus d'information sur les méthodes possible [ici](./requests)

```php
$name = request()->get("name");
```

### response_json

Permet d'utiliser la méthode `json` de `\Bow\Http\Response::class`. Elle doit être utilisée impérativement dans un contrôleur.

```php
return response_json(["name" => "papac"], $code = 200);
// {"name": "papac"}
```

### response_download

Permet lors d'une requête de télécharger un fichier et elle est liée sur la classe `\Bow\Http\Response::class`. Elle doit être utilisée impérativement dans un controlleur.

```php
$file = "/path/to/file.png";
$filename = "photo.png";

return response_download($file, $filename);
```

### set_response_status_code

Permet de modifier le code du statut http de réponse et elle est liée sur la classe `\Bow\Http\Response::class`. Elle doit être utilisée impérativement dans un controlleur.

```php
set_response_status_code(404);
```

### view

Permet de compiler une vue dans Bow Framework.

```php
return view("view.name", ["name" => "papac"], $code = 200);
```

### session

Permet de manipuler l'interface de session dans Bow Framework.

```php
session($value, $default = null)
```

- Si aucun argument n'est passé. Elle recupère l'instance de la session
- Si default est fournie et que la valeur n'existe pas elle sera retourné comme valeur de remplacement
- Si `$value` est un tableau associatif elle ajoutera ces informations dans la session en couple de clé valeur.

### cookie

```php
cookie("name", "papac");
// papac
```

### create_csrf_token

```php
create_csrf_token();
// papac
```

### csrf_token

```php
$token = csrf_token();
// papac
```

### csrf_field

```php
$field = csrf_field();
// <input type="hidden" name="token" value="token_value" />
```

### method_field

```php
$method = method_field("DELETE")
// <input type="hidden" name="_method" value="DELETE" />
```

### verify_csrf

```php
verify_csrf($token);
// bool
```

### csrf_time_is_expired

```php
csrf_time_is_expired();
// bool
```

### sanitize

Permet de nettoyer les données en supprimant les caractères spéciaux et les balises HTML.

```php
$name = sanitize("papa'c<script>alert(1)</script>");
// papac
```

### secure

Permet de sécuriser les données en les nettoyant et en les échappant.

```php
$name = secure("papa'c<script>");
// papa&#039;c
```

### set_response_header

```php
set_response_header("X-Token-API", $token);
```

### get_response_header

```php
$token = get_response_header("X-Token-API");
// papac
```

### redirect

Permet de créer une redirection HTTP. Retourne une instance de `\Bow\Http\Redirect`.

```php
return redirect('/dashboard');

// Ou avec des méthodes chainables
return redirect()->to('/home');
return redirect()->route('user.profile', ['id' => 1]);
```

### redirect_back

Permet de rediriger vers la page précédente.

```php
return redirect_back();

// Avec un code de statut personnalisé
return redirect_back(301);
```

### url

Permet de construire une URL complète en ajoutant des paramètres.

```php
$url = url('/users', ['page' => 2, 'sort' => 'name']);
// http://votre-domaine.com/users?page=2&sort=name
```

### flash

Permet de définir un message flash dans la session.

```php
flash('success', 'Utilisateur créé avec succès');

// Dans la vue suivante
{{ session('success') }} // Utilisateur créé avec succès
```

### validator

Permet de valider des données selon des règles définies.

```php
$validation = validator(
    ['email' => 'test@example.com', 'age' => 25],
    ['email' => 'required|email', 'age' => 'required|int']
);

if ($validation->fails()) {
    return response()->json($validation->getErrors(), 422);
}
```

### route

Permet de générer une URL à partir du nom d'une route.

```php
// Route définie: Route::get('/users/:id', 'UserController::show')->name('user.show');
$url = route('user.show', ['id' => 1]);
// /users/1

// Avec URL absolue
$url = route('user.show', ['id' => 1], true);
// http://votre-domaine.com/users/1
```

### old

Permet de récupérer l'ancienne valeur d'un champ après une redirection (utile pour les formulaires).

```php
// Dans la vue après une validation échouée
<input type="text" name="email" value="{{ old('email') }}" />

// Avec une valeur par défaut
old('email', 'default@example.com')
```

### client_locale

Permet de récupérer la langue du client à partir de l'en-tête HTTP Accept-Language.

```php
$locale = client_locale();
// fr, en, etc.
```

### app_db_seed

Permet d'exécuter un seeder de manière programmatique.

```php
// Exécuter un seeder par son nom
app_db_seed('users');

// Avec des données de surcharge
app_db_seed('users', ['email' => 'custom@example.com']);

// Avec une classe Model
app_db_seed(User::class, ['name' => 'John Doe']);
```

### is_blank

Détermine si une valeur est "vide" (null, chaîne vide, tableau vide, etc.).

```php
is_blank(null); // true
is_blank(''); // true
is_blank('  '); // true
is_blank([]); // true
is_blank(0); // false
is_blank('hello'); // false
```

### queue

Permet d'ajouter un job dans la file d'attente.

```php
queue(new SendEmailJob($user));
```

### app_trans / t / __

Permet de traduire une clé de traduction.

```php
app_trans('welcome.message'); // Bienvenue sur notre site
t('welcome.message'); // Même résultat
__('welcome.message'); // Même résultat

// Avec des variables
t('welcome.user', ['name' => 'John']); // Bienvenue John
```

### email / raw_email

Permet d'envoyer des emails.

```php
// Avec une vue
email('emails.welcome', ['user' => $user], function($mail) {
    $mail->to('user@example.com')
         ->subject('Bienvenue');
});

// Email simple
raw_email('user@example.com', 'Subject', 'Message body');
```

### app_now

Retourne l'instance Carbon du moment actuel.

```php
$now = app_now();
// Instance de Carbon\Carbon
$now->format('Y-m-d'); // 2025-12-20
```

### app_auth / auth

Permet d'accéder au système d'authentification.

```php
// Vérifier si l'utilisateur est authentifié
if (app_auth()->check()) {
    $user = app_auth()->user();
}

// Avec un guard spécifique
$admin = app_auth('admin')->user();
```

### app_logger / logger

Permet d'accéder au système de logging.

```php
logger()->info('User logged in', ['user_id' => 1]);
logger()->error('Database error', ['exception' => $e]);
app_logger()->warning('Deprecated method called');
```

### app_in_debug

Vérifie si l'application est en mode debug.

```php
if (app_in_debug()) {
    // Code de débogage
}
```

[https://github.com/bowphp/framework/blob/4.0/src/Support/helper.php](https://github.com/bowphp/framework/blob/4.0/src/Support/helper.php)

<SuggestionFeature />
